<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">Pr치ctica 7 (10/11): Assembler | Lenguajes y Compiladores</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://jisbruzzi.github.io/teo/docs/2021_2/practicas/7"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2021_2"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2021_2"><meta data-react-helmet="true" property="og:title" content="Pr치ctica 7 (10/11): Assembler | Lenguajes y Compiladores"><meta data-react-helmet="true" name="description" content="---"><meta data-react-helmet="true" property="og:description" content="---"><link data-react-helmet="true" rel="shortcut icon" href="/teo/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jisbruzzi.github.io/teo/docs/2021_2/practicas/7"><link data-react-helmet="true" rel="alternate" href="https://jisbruzzi.github.io/teo/docs/2021_2/practicas/7" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jisbruzzi.github.io/teo/docs/2021_2/practicas/7" hreflang="x-default"><link rel="stylesheet" href="/teo/assets/css/styles.e2e4e981.css">
<link rel="preload" href="/teo/assets/js/runtime~main.d9d01d90.js" as="script">
<link rel="preload" href="/teo/assets/js/main.7fd337e9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/teo/"><img src="/teo/img/logo.svg" alt="Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/teo/img/logo.svg" alt="Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Lenguajes y Compiladores</b></a><a class="navbar__item navbar__link" href="/teo/docs/2021_2/labs/intro">Laboratorios</a><a class="navbar__item navbar__link navbar__link--active" href="/teo/docs/2021_2/practicas/intro">Pr치cticas</a><a class="navbar__item navbar__link" href="/teo/docs/2021_2/teoricas/intro">Te칩ricas</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/teo/docs/2021_2/labs/Trabajo Pr치ctico">2021_2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/teo/docs/labs/intro">este cuatri</a></li><li><a class="dropdown__link" href="/teo/docs/2022_2/practicas/7">2022_2</a></li><li><a aria-current="page" class="dropdown__link navbar__link--active" href="/teo/docs/2021_2/practicas/7">2021_2</a></li></ul></div><a href="https://github.com/compiladores" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">游꺂</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">游</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/teo/docs/2021_2/practicas/intro">Introducci칩n</a></li><li class="menu__list-item"><a class="menu__link" href="/teo/docs/2021_2/practicas/1">Pr치ctica 1 (8/9)</a></li><li class="menu__list-item"><a class="menu__link" href="/teo/docs/2021_2/practicas/2">Pr치ctica 2 (15/9)</a></li><li class="menu__list-item"><a class="menu__link" href="/teo/docs/2021_2/practicas/3">Pr치ctica 3 (22/9)</a></li><li class="menu__list-item"><a class="menu__link" href="/teo/docs/2021_2/practicas/4">Pr치ctica 4 (6/10)</a></li><li class="menu__list-item"><a class="menu__link" href="/teo/docs/2021_2/practicas/5">Pr치ctica 5 (18/10)</a></li><li class="menu__list-item"><a class="menu__link" href="/teo/docs/2021_2/practicas/6">Pr치ctica 6 (3/11): int칠rpretes</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/teo/docs/2021_2/practicas/7">Pr치ctica 7 (10/11): Assembler</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Lenguajes y Compiladores <b>2021_2</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/teo/docs/labs/intro">latest version</a></b> (este cuatri).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: 2021_2</span><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Pr치ctica 7 (10/11): Assembler</h1></header><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="c칩digo-de-m치quina-vs-assembly-vs-assembler-vs-archivos-ejecutables"></a>C칩digo de m치quina vs assembly vs assembler vs archivos ejecutables<a class="hash-link" href="#c칩digo-de-m치quina-vs-assembly-vs-assembler-vs-archivos-ejecutables" title="Direct link to heading">#</a></h2><ul><li><strong>Assembly</strong>: <ul><li>familia de lenguajes de programaci칩n que son muy parecidos al c칩digo de m치quina. </li><li>Basados en pilas, como <a href="https://factorcode.org" target="_blank" rel="noopener noreferrer">factor</a></li><li>texto</li></ul></li><li><strong>C칩digo de m치quina</strong>: Diferencias con assembly: no tiene labels, formato binario</li><li><strong>Archivo ejecutable</strong>: formato espec칤fico para cada SO | &quot;burocracia&quot; | contiene c칩digo de m치quina</li><li><strong>Assembler</strong>: convierte assembly a c칩digo de m치quina y emite un archivo ejecutable.</li></ul><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="nasm-y-as"></a><code>nasm</code> y <code>as</code><a class="hash-link" href="#nasm-y-as" title="Direct link to heading">#</a></h2><p>Hay <a href="https://en.wikipedia.org/wiki/X86_assembly_language#Syntax" target="_blank" rel="noopener noreferrer">2 sintaxis de assembly</a> (ver link).
En linux:</p><ul><li><code>as</code> y <code>gcc</code> pertenecen al proyecto GNU y compilan sintaxis AT&amp;T</li><li><code>nasm</code> usa sintaxis intel</li></ul><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="abi"></a>ABI<a class="hash-link" href="#abi" title="Direct link to heading">#</a></h2><p>Define un &quot;c칩digo de conducta&quot; que deben cumplir quien escribe c칩digo de m치quina, y el procesador. <strong>No</strong> especifica:</p><ul><li>listado de syscalls</li><li>listado de registros</li><li>listado de instrucciones de assembly
Lo que nos interesa de este documento es la figura 3.4 (pag 25) que describe c칩mo se deben usar los registros seg칰n la ABI, aunque resulta m치s util leer c칩digo C desensamblado.</li></ul><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="abi-1"></a>ABI<a class="hash-link" href="#abi-1" title="Direct link to heading">#</a></h2><p><img alt="regs-usage.png" src="/teo/assets/images/regs-usage-5308ed00a21cf29366515d49882e3f78.png"></p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="labels"></a>Labels<a class="hash-link" href="#labels" title="Direct link to heading">#</a></h2><p>Un label marca una posici칩n del programa que luego se puede poner en cualquier lugar donde se coloca un entero. El ensamblador reemplaza cada etiqueta por su posici칩n relativa donde se escriban. Esto se usa para los jumps y para hacer referencia a datos literales que pueden incluirse en el programa.</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="nombres-de-los-registros-fuente"></a>Nombres de los registros <a href="https://cs.brown.edu/courses/cs033/docs/guides/x64_cheatsheet.pdf" target="_blank" rel="noopener noreferrer">(fuente)</a><a class="hash-link" href="#nombres-de-los-registros-fuente" title="Direct link to heading">#</a></h2><p><img alt="regs.png" src="/teo/assets/images/regs-896b30c20b16290b82a87294bd56229d.png"></p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="hoja-de-ruta-para-el-repo-de-ejemplos"></a>Hoja de ruta para el repo de ejemplos<a class="hash-link" href="#hoja-de-ruta-para-el-repo-de-ejemplos" title="Direct link to heading">#</a></h2><ol><li>Imprimir texto con <code>syscall</code></li><li>Imprimir texto con <code>puts</code></li><li>Desensamblar y mostrar invocaci칩n a <code>printf</code></li><li><code>printf</code> en assembler</li><li>invocar a la subrutina <code>showit</code></li><li>Desensamblar y mostrar invocaci칩n a <code>scanf</code></li><li>combinar <code>scanf</code> y <code>printf</code></li><li>Usar un ciclo para modificar el flujo del programa</li></ol><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="ejercicios"></a>Ejercicios<a class="hash-link" href="#ejercicios" title="Direct link to heading">#</a></h2><ol><li>Pedir 3 n칰meros por stdin e imprimir la suma</li><li>Pedir un n칰mero y luego pedir otro, seguir pidiendo otro hasta que el usuario vuelva a introducir el primero</li><li>Como el primer ejercicio pero diciendole al usuario si el n칰mero que ingres칩 reci칠n es mayor o menor que el original</li></ol></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/compiladores/compiladores.github.io/edit/master/docs/versioned_docs/version-2021_2/practicas/7.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/teo/docs/2021_2/practicas/6"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">춺 Pr치ctica 6 (3/11): int칠rpretes</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#c칩digo-de-m치quina-vs-assembly-vs-assembler-vs-archivos-ejecutables" class="table-of-contents__link">C칩digo de m치quina vs assembly vs assembler vs archivos ejecutables</a></li><li><a href="#nasm-y-as" class="table-of-contents__link"><code>nasm</code> y <code>as</code></a></li><li><a href="#abi" class="table-of-contents__link">ABI</a></li><li><a href="#abi-1" class="table-of-contents__link">ABI</a></li><li><a href="#labels" class="table-of-contents__link">Labels</a></li><li><a href="#nombres-de-los-registros-fuente" class="table-of-contents__link">Nombres de los registros (fuente)</a></li><li><a href="#hoja-de-ruta-para-el-repo-de-ejemplos" class="table-of-contents__link">Hoja de ruta para el repo de ejemplos</a></li><li><a href="#ejercicios" class="table-of-contents__link">Ejercicios</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Material</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/teo/docs/labs/intro">Laboratorios</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Hecho para Ud.</div></div></div></footer></div>
<script src="/teo/assets/js/runtime~main.d9d01d90.js"></script>
<script src="/teo/assets/js/main.7fd337e9.js"></script>
</body>
</html>